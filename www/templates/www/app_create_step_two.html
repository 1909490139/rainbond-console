{% extends 'www/raster.html' %}
{% load i18n %}
{% load staticfiles %}
{% block extracss %}
{{ block.super }}
<link rel="stylesheet" href='{% static "www/css/newappstep.css" %}' />
{% endblock %}
{% block extrajs %}
<script src='{% static "www/js/newappstep.js" %}'></script>
{% endblock %}

{% block main-content%}

<section class="wrapper site-min-height">
    <!--
    <section class="panel-body">
        <input type="hidden" id="tenantNameValue" value="{{tenantName}}">
        <input type="hidden" id="service_id" value="{{service_id}}">
        <div class="steptit">
            <span class="sed">1，设置镜像来源</span>
            <span class="hidden-xs">2，设置应用参数</span>
        </div>
        <span class="line"></span>
        <div class="fm-link">
            <form>
                <!--ggg{{image_url}}{{service_id}}-->
                <!--
                <p><label>镜像地址：</label><input type="text" id="mirror-address" value="{{image_url}}" placeholder="例如 nginx:1.11"/></p>
                <a href="javascript:;" class="btn btn-success" id="nextstep">下一步</a>
            </form>
        </div>
    </section>
    -->

    <!-- new start -->
    <section class="main-box">
        <div class="app-step clearfix two">
            <p class="sed"><span>1</span><cite>设置镜像来源</cite></p>
            <p><span>2</span><cite>设置应用参数</cite></p>
        </div>
        <form class="cmxform form-horizontal tasi-form" id="commentForm" method="post" action="" novalidate="novalidate">
            <input type="hidden" id="tenantName" name="tenantName" value="{{tenantName}}" />
            <input type="hidden" id="service_key" name="service_key" value="{{service_key}}" />
            <input type="hidden" id="app_version" name="app_version" value="{{app_version}}" />
            <input type="hidden" id="service_id" value="{{service_id}}">
            <!-- -->
            <input type="hidden" id="pre_paid_memory_price" name="pre_paid_memory_price" value="{{pre_paid_memory_price}}">
            <input type="hidden" id="post_paid_memory_price" name="post_paid_memory_price" value="{{post_paid_memory_price}}">
            <input type="hidden" id="pre_paid_disk_price" name="pre_paid_disk_price" value="{{pre_paid_disk_price}}">
            <input type="hidden" id="post_paid_disk_price" name="post_paid_disk_price" value="{{post_paid_disk_price}}">
            <input type="hidden" id="post_paid_net_price" name="post_paid_net_price" value="{{post_paid_net_price}}">
            <!-- -->
            <input type="hidden" id="is_tenant_free" name="is_tenant_free" value="{{is_tenant_free}}">
            <!-- 基本信息  start-->
            <div class="infor-fm-box">
                <h4 class="step-tit">基本信息</h4>
                <div class="fm-input-text clearfix">
                    <label for="create_app_name">应用名</label><input type="text" id="create_name" name="create_name" value="" placeholder="请输入应用名，支持中英文"  />
                </div>
                <p class="fm-tips" id="create_name_notice">请输入应用名！</p>
                <div class="fm-select clearfix">
                    <label>选择分组</label>
                    <select id="group-name" name="select_group_id">
                        <option value="-1">未分组</option>
                        {% for group in groupList %}
                        <option value="{{group.ID}}" >{{group.group_name}}</option>
                        {% endfor %}
                        <option value="-2">新建组</option>
                    </select>
                </div>
                <div class="fm-input-text clearfix">
                    <label for="create_app_name">镜像地址</label><input type="text" id="mirror-address" name="mirror-address" value="{{image_url}}" placeholder="例如 nginx:1.11"  />
                </div>
                <p class="fm-tips" id="mirror_address_notice">您还没有输入镜像地址！</p>
            </div>
            <!-- 基本信息  end -->
            <!-- 配套信息 start -->
            <div class="infor-fm-box">
                <h4 class="step-tit">配套信息</h4>
                <!-- 01 -->
                <div class="fm-input-radio clearfix">
                    <label data-tips="应用内存" data-position="right" class="fn-tips" >应用内存</label>
                    <input type="radio" name="Memory" value="Before" id="MoneyBefore" checked="true" />
                    <label class="radio-bg" for="MoneyBefore"></label>
                    <label for="MoneyBefore" class="radio-text fn-tips" data-position="top" data-tips="预付费提前采购">预付费提前采购</label>
                    <input type="radio" name="Memory" value="After" id="MoneyAfter" />
                    <label class="radio-bg"  for="MoneyAfter"></label>
                    <label for="MoneyAfter" class="radio-text fn-tips" data-position="bottom" data-tips="按使用后付费">按使用后付费</label>
                </div>
                <div class="fm-input-range clearfix fn-memory-node">
                    <label class="fn-tips" data-position="left" data-tips="单节点内存单节点内存">单节点内存</label>
                    {% if is_tenant_free %}
                    <p class="range-box nouser">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="OneMemoryWid"></cite></span>
                        <input type="range" min="128" max="1024"  step="128" id="OneMemory" value="128"／>
                    </p>
                    <!-- user -->
                    {% else %}
                    <!-- no user -->
                    <p class="range-box">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="OneMemoryWid"></cite></span>
                        <input type="range" min="128" max="8192"  step="128" id="OneMemory" value="128"／>
                    </p>
                    <!-- no user -->
                    {% endif %}
                    <span><cite id="OneMemoryText">128M</cite></span>
                </div>
                <div class="fm-input-range clearfix fn-memory-node" style="padding-bottom:30px;">
                    <label>节点数</label>
                    {% if is_tenant_free %}
                    <p class="range-box nouser02">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="NodeWid"></cite></span>
                        <input type="range" min="1" max="1"  step="1" id="NodeNum" value="1"／>
                    </p>
                    <!-- user -->
                    {% else %}
                    <!-- no user -->
                    <p class="range-box">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="NodeWid"></cite></span>
                        <input type="range" min="1" max="100"  step="1" id="NodeNum" value="1"／>
                    </p>
                    <!-- no user -->
                    {% endif %}
                    <span><cite id="NodeText">1</cite>个</span>
                </div>
                <!-- 02 -->
                <div class="fm-choose-box clearfix">
                    <label>应用存储</label>
                    <div class="btn-cho-box clearfix">
                        <p class="clearfix"><input type="checkbox" id="fbscc" checked="true" disabled="true" /><label class="cho-bg" for="fbscc"></label><label for="fbscc" class="cho-text">分布式存储</label></p>
                        <p class="clearfix"><input type="checkbox" id="ssd" checked="true"  disabled="true" /><label class="cho-bg" for="ssd"></label><label for="ssd" class="cho-text">SSD</label></p>
                    </div>
                </div>
                <div class="fm-input-radio clearfix">
                    <label>使用方法</label>
                    <input type="radio" name="Disk" value="DiskBefore" id="DiskBefore" checked="true" />
                    <label class="radio-bg" for="DiskBefore"></label>
                    <label for="DiskBefore" class="radio-text">预付费提前采购</label>
                    <input type="radio" name="Disk" value="DiskAfter" id="DiskAfter" />
                    <label class="radio-bg"  for="DiskAfter"></label>
                    <label for="DiskAfter" class="radio-text">按使用后付费</label>
                </div>
                <div class="fm-input-range clearfix fn-disk" style="padding-bottom:30px;">
                    <label>磁盘</label>
                    {% if is_tenant_free %}
                    <p class="range-box nouser02">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="DiskWid"></cite></span>
                        <input type="range" min="1" max="1"  step="1" id="Disk" value="1"／>
                    </p>
                    <!-- user -->
                    {% else %}
                    <!-- no user -->
                    <p class="range-box">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="DiskWid"></cite></span>
                        <input type="range" min="1" max="1000"  step="1" id="Disk" value="1"／>
                    </p>
                    <!-- no user -->
                    {% endif %}
                    <span><cite id="DiskText">1</cite>G</span>
                </div>
                <!-- 03 -->
                <div class="fm-input-radio clearfix" style="padding-bottom:30px;">
                    <label>流量</label>
                    <input type="radio" name="flow" value="flow" id="flow" checked="true" />
                    <label class="radio-bg" for="flow"></label>
                    <label class="radio-text" for="flow">按使用后付费</label>
                </div>
                <!--
                <div class="fm-text clearfix">
                    <label>预估费用:</label>
                    <span><cite>12</cite>元／月</span>
                </div>
                -->
                <!-- 04 -->
                <div class="fm-choose-box clearfix">
                    <label>部署支持</label>
                    <div class="btn-cho-box clearfix">
                        <p class="clearfix"><input type="checkbox" id="yjbs" checked="true" disabled="true" /><label class="cho-bg" for="yjbs"></label><label for="yjbs" class="cho-text">一键部署</label></p>
                        <p class="clearfix"><input type="checkbox" id="yjhg" checked="true"  disabled="true" /><label class="cho-bg" for="yjhg"></label><label for="yjhg" class="cho-text">一键回滚</label></p>
                        <p  class="clearfix"><input type="checkbox" id="gdsj" checked="true" disabled="true" /><label class="cho-bg" for="gdsj"></label><label for="gdsj" class="cho-text">滚动升级</label></p>
                    </div>
                </div>
                <div class="fm-choose-box clearfix">
                    <label>资源支持</label>
                    <div class="btn-cho-box clearfix">
                        <p class="clearfix"><input type="checkbox" id="dlzy" checked="true" disabled="true" /><label class="cho-bg" for="dlzy"></label><label for="dlzy" class="cho-text">独立资源</label></p>
                        <p class="clearfix"><input type="checkbox" id="fzjh" checked="true" disabled="true" /><label class="cho-bg" for="fzjh"></label><label for="fzjh" class="cho-text">负载均衡</label></p>
                        <p class="clearfix"><input type="checkbox" id="txss" checked="true" disabled="true" /><label class="cho-bg" for="txss"></label><label for="txss" class="cho-text">弹性伸缩</label></p>
                        <p class="clearfix"><input type="checkbox" id="gky" checked="true" disabled="true" /><label class="cho-bg" for="gky"></label><label for="gky" class="cho-text">高可用</label></p>
                        <p class="clearfix"><input type="checkbox" id="sfkz" checked="true" disabled="true" /><label class="cho-bg" for="sfkz"></label><label for="sfkz" class="cho-text">三份快照</label></p>
                    </div>
                </div>
                <div class="fm-choose-box clearfix">
                    <label>日志监控</label>
                    <div class="btn-cho-box clearfix">
                        <p class="clearfix"><input type="checkbox" id="xnfxgj" checked="true" disabled="true" /><label class="cho-bg" for="xnfxgj"></label><label for="xnfxgj" class="cho-text">性能分析/告警</label></p>
                        <p class="clearfix"><input type="checkbox" id="ywjkgj" checked="true" disabled="true" /><label class="cho-bg" for="ywjkgj"></label><label for="ywjkgj" class="cho-text">业务监控/告警</label></p>
                        <p class="clearfix"><input type="checkbox" id="fbsrz" checked="true" disabled="true" /><label class="cho-bg" for="fbsrz"></label><label for="fbsrz" class="cho-text">分布式日志</label></p>
                    </div>
                </div>
            </div>
            <!-- 配套信息 end -->
            <!-- 费用估算 start -->
            <div class="infor-fm-box" style="border-bottom: 0 none;">
                <h4 class="step-tit">费用估算</h4>
                <div class="fm-input-range clearfix">
                    <label>预付费项目购买时长</label>
                    <p class="range-box">
                        <span class="renge-bg"></span>
                        <span class="range-choose"><cite id="TimeLongWid"></cite></span>
                        <input type="range" min="1" max="24"  step="1" id="TimeLong" value="1"／>
                    </p>
                    <span><cite id="TimeLongText">1</cite>个月</span>    
                </div>
                <div class="fm-money clearfix">
                    <label>预付费总费用</label>
                    <span><cite id="need-money">123.00</cite>元</span>
                </div>
                <div class="fm-aft-money clearfix">
                    <label>按使用后付费</label>
                    <p><span id="aft-memory-box" style="display: none;">内存<cite id="aft-memory"></cite>元/GB/小时；</span><span id="aft-disk-box" style="display: none;">磁盘<cite id="aft-disk"></cite>元/GB/小时；</span><span id="aft-net-box">流量<cite id="aft-net"></cite>元/GB/小时</span></p>
                </div>
                <div class="fm-btn clearfix">
                    <a class="greenbtn" id="mirror_first" style="cursor: pointer;">下一步</a>
                </div>
            </div>
            <!-- 费用估算 end -->          
        </form>
    </section>
    <!-- new end -->
</section>
{% endblock %}
